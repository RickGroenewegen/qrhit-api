<% 
// Extract font name for Google Fonts import
let fontImport = '';
if (php.selectedFont && php.selectedFont !== 'Arial, sans-serif') {
    // Extract the font name before the comma
    let fontName = php.selectedFont.split(',')[0].trim().replace(/["']/g, '');
    // Convert to Google Fonts format (e.g., "Bebas Neue" -> "Bebas+Neue")
    let googleFontName = fontName.replace(/ /g, '+');
    // Add appropriate weight based on font
    let weights = ':wght@';
    if (fontName.includes('Bebas')) weights += '400';
    else if (fontName.includes('Pacifico')) weights += '400';
    else if (fontName.includes('Oswald')) weights += '400;700';
    else if (fontName.includes('Playfair')) weights += '400;700';
    else if (fontName.includes('Dancing')) weights += '400;700';
    else if (fontName.includes('Fredoka')) weights += '400;700';
    else if (fontName.includes('Caveat')) weights += '400;700';
    else if (fontName.includes('Righteous')) weights += '400';
    else if (fontName.includes('Alfa')) weights += '400';
    else if (fontName.includes('Montserrat')) weights += '400;700';
    else if (fontName.includes('Ubuntu')) weights += '400;700';
    else weights += '400;700'; // default
    fontImport = `<link href="https://fonts.googleapis.com/css2?family=${googleFontName}${weights}&display=swap" rel="stylesheet">`;
}
%>
<%- fontImport %>